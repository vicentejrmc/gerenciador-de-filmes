import{a as F,b as D}from"./chunk-MZH3AHZ7.js";import{b as B}from"./chunk-ZGI6Y3AA.js";import{Aa as E,B as o,E as y,L as c,N as m,P as S,Q as $,R as b,S as d,T as r,U as n,X as T,_ as x,ba as L,f as l,i as v,j as h,ja as M,k as s,ka as f,l as _,m as g,r as p,ta as P,ya as w}from"./chunk-UV2O3WZ6.js";var N=(t,i)=>i.id;function V(t,i){if(t&1&&(d(0,"h2"),x(1),r(),n(2,"hr",2)),t&2){let e=i;o(),L("",e.tipoMidia," ",e.tipoColecaoMidia)}}function z(t,i){if(t&1&&(d(0,"div",3),n(1,"app-card-midia",4),r()),t&2){let e=i.$implicit,a=T();o(),b("tipoMidia",a.media_type)("midia",e)}}function I(t,i){t&1&&(d(0,"div",1),S(1,z,2,2,"div",3,N),r()),t&2&&(o(),$(i.results))}var A=class t{title=p(w);route=p(E);midiaService=p(B);params$=this.route.paramMap.pipe(v(i=>i.has("tipoMidia")&&i.has("tipoColecaoMidia")),l(i=>{let e=i.get("tipoMidia"),a=i.get("tipoColecaoMidia");if(!e||!a)throw new Error("N\xE3o foi poss\xEDvel ler os par\xE2metros de rota.");return{tipoMidia:e,tipoColecaoMidia:a}}),h((i,e)=>i.tipoMidia===e.tipoMidia&&i.tipoColecaoMidia===e.tipoColecaoMidia),s({bufferSize:1,refCount:!0}));cabecalhoMidiasSelecionadas$=this.params$.pipe(l(i=>{let e=i.tipoMidia==="filme"?"Filmes":"S\xE9ries",a=i.tipoColecaoMidia==="popular"?"Populares":e==="Filmes"?"Mais Votados":"Mais Votadas";return{tipoMidia:e,tipoColecaoMidia:a}}),g(i=>this.title.setTitle(`Listagem de ${i.tipoMidia} ${i.tipoColecaoMidia} | MMDb`)));midiasSelecionadas$=this.params$.pipe(_(i=>i.tipoColecaoMidia==="popular"?this.midiaService.selecionarMidiasPopulares(i.tipoMidia):this.midiaService.selecionarMidiasMaisVotadas(i.tipoMidia)),s({bufferSize:1,refCount:!0}));static \u0275fac=function(e){return new(e||t)};static \u0275cmp=y({type:t,selectors:[["app-listagem-midia"]],decls:6,vars:6,consts:[[1,"container","py-4","text-light"],[1,"row","g-3","mt-1"],[1,"border"],[1,"col-7","col-lg-3","col-xl-2"],[3,"tipoMidia","midia"]],template:function(e,a){if(e&1&&(d(0,"div",0),n(1,"app-barra-busca"),c(2,V,3,2),M(3,"async"),c(4,I,3,0,"div",1),M(5,"async"),r()),e&2){let u,C;o(2),m((u=f(3,2,a.cabecalhoMidiasSelecionadas$))?2:-1,u),o(2),m((C=f(5,4,a.midiasSelecionadas$))?4:-1,C)}},dependencies:[D,F,P],encapsulation:2})};export{A as ListagemMidia};
